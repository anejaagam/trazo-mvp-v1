import { Alarm, AlarmThreshold, EscalationPolicy, MaintenanceWindow } from '../types/alarm';

export const mockAlarms: Alarm[] = [
  {
    id: 'ALM-001',
    category: 'environmental',
    severity: 'critical',
    status: 'active',
    title: 'High Temperature Alert',
    description: 'Temperature exceeds maximum threshold in Grow Room A',
    site: 'Facility North',
    room: 'Grow Room A',
    device: 'Temp-Sensor-A1',
    value: 85.2,
    threshold: 82.0,
    unit: '°F',
    raisedAt: new Date(Date.now() - 15 * 60 * 1000), // 15 minutes ago
    escalationLevel: 1,
    notificationsSent: 2,
  },
  {
    id: 'ALM-002',
    category: 'equipment',
    severity: 'critical',
    status: 'acknowledged',
    title: 'Device Offline',
    description: 'HVAC Controller has lost connection',
    site: 'Facility North',
    room: 'Grow Room B',
    device: 'HVAC-CTL-B1',
    raisedAt: new Date(Date.now() - 45 * 60 * 1000), // 45 minutes ago
    acknowledgedAt: new Date(Date.now() - 30 * 60 * 1000),
    acknowledgedBy: 'John Smith',
    escalationLevel: 2,
    notificationsSent: 3,
  },
  {
    id: 'ALM-003',
    category: 'irrigation',
    severity: 'warning',
    status: 'active',
    title: 'Low Water Pressure',
    description: 'Irrigation system pressure below optimal range',
    site: 'Facility South',
    room: 'Grow Room C',
    device: 'Pressure-Mon-C1',
    value: 22.5,
    threshold: 30.0,
    unit: 'PSI',
    raisedAt: new Date(Date.now() - 8 * 60 * 1000), // 8 minutes ago
    escalationLevel: 0,
    notificationsSent: 1,
  },
  {
    id: 'ALM-004',
    category: 'environmental',
    severity: 'warning',
    status: 'snoozed',
    title: 'High Humidity',
    description: 'Humidity above target range',
    site: 'Facility North',
    room: 'Grow Room A',
    device: 'Humidity-Sensor-A2',
    value: 72.0,
    threshold: 65.0,
    unit: '%',
    raisedAt: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago
    snoozedUntil: new Date(Date.now() + 30 * 60 * 1000), // 30 minutes from now
    escalationLevel: 1,
    notificationsSent: 2,
  },
  {
    id: 'ALM-005',
    category: 'system',
    severity: 'warning',
    status: 'active',
    title: 'Calibration Overdue',
    description: 'pH sensor calibration is 7 days overdue',
    site: 'Facility South',
    room: 'Grow Room D',
    device: 'pH-Sensor-D1',
    raisedAt: new Date(Date.now() - 12 * 60 * 60 * 1000), // 12 hours ago
    escalationLevel: 1,
    notificationsSent: 1,
  },
  {
    id: 'ALM-006',
    category: 'irrigation',
    severity: 'critical',
    status: 'resolved',
    title: 'Tank Empty',
    description: 'Main irrigation tank level critical',
    site: 'Facility North',
    device: 'Tank-Level-Monitor',
    value: 2.0,
    threshold: 10.0,
    unit: '%',
    raisedAt: new Date(Date.now() - 3 * 60 * 60 * 1000),
    acknowledgedAt: new Date(Date.now() - 2.5 * 60 * 60 * 1000),
    acknowledgedBy: 'Sarah Johnson',
    resolvedAt: new Date(Date.now() - 2 * 60 * 60 * 1000),
    resolvedBy: 'Sarah Johnson',
    escalationLevel: 2,
    notificationsSent: 3,
  },
  {
    id: 'ALM-007',
    category: 'environmental',
    severity: 'info',
    status: 'active',
    title: 'CO₂ Below Target',
    description: 'CO₂ concentration is below optimal range',
    site: 'Facility South',
    room: 'Grow Room C',
    device: 'CO2-Sensor-C1',
    value: 380.0,
    threshold: 400.0,
    unit: 'ppm',
    raisedAt: new Date(Date.now() - 20 * 60 * 1000),
    escalationLevel: 0,
    notificationsSent: 1,
  },
  {
    id: 'ALM-008',
    category: 'equipment',
    severity: 'warning',
    status: 'active',
    title: 'Sensor Fault',
    description: 'Light sensor returning inconsistent readings',
    site: 'Facility North',
    room: 'Grow Room B',
    device: 'Light-Sensor-B2',
    raisedAt: new Date(Date.now() - 35 * 60 * 1000),
    escalationLevel: 1,
    notificationsSent: 1,
  },
  // Compliance & Security Alarms
  {
    id: 'ALM-009',
    category: 'compliance',
    severity: 'critical',
    status: 'active',
    title: 'Metrc Sync Error',
    description: 'Failed to submit package transfer to Metrc API - Tag already in use',
    site: 'Facility North',
    raisedAt: new Date(Date.now() - 5 * 60 * 1000), // 5 minutes ago
    escalationLevel: 0,
    notificationsSent: 1,
    complianceType: 'metrc_sync_error',
    metrcError: {
      errorCode: '400',
      errorMessage: 'Tag number 1A4060300000001000000123 is already associated with an active package',
      tagNumber: '1A4060300000001000000123',
      submissionId: 'PKG-TRANSFER-2024-1016-001',
    },
  },
  {
    id: 'ALM-010',
    category: 'compliance',
    severity: 'warning',
    status: 'active',
    title: 'Inventory Audit Due',
    description: 'Monthly inventory reconciliation audit is due in 3 days',
    site: 'Facility South',
    raisedAt: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago
    escalationLevel: 0,
    notificationsSent: 1,
    complianceType: 'compliance_task_due',
    taskDetails: {
      taskType: 'Inventory Reconciliation Audit',
      dueDate: new Date(Date.now() + 3 * 24 * 60 * 60 * 1000), // 3 days from now
      assignedTo: 'Compliance Team',
    },
  },
  {
    id: 'ALM-011',
    category: 'compliance',
    severity: 'warning',
    status: 'active',
    title: 'Employee Permit Expiring',
    description: 'Employee cannabis handler permit expires in 14 days',
    site: 'Facility North',
    raisedAt: new Date(Date.now() - 6 * 60 * 60 * 1000), // 6 hours ago
    escalationLevel: 0,
    notificationsSent: 1,
    complianceType: 'compliance_task_due',
    taskDetails: {
      taskType: 'Employee Permit Renewal',
      dueDate: new Date(Date.now() + 14 * 24 * 60 * 60 * 1000), // 14 days from now
      assignedTo: 'John Smith',
    },
  },
  {
    id: 'ALM-012',
    category: 'compliance',
    severity: 'critical',
    status: 'active',
    title: '45-Day Harvest Deadline Approaching (OR)',
    description: 'Batch B-2024-1001 is at Day 40 - Harvest dry weight must be finalized within 5 days',
    site: 'Facility North',
    room: 'Flower Room 1',
    raisedAt: new Date(Date.now() - 30 * 60 * 1000), // 30 minutes ago
    escalationLevel: 1,
    notificationsSent: 2,
    complianceType: 'harvest_deadline',
    harvestDetails: {
      batchId: 'B-2024-1001',
      daysSinceHarvest: 40,
      daysRemaining: 5,
    },
  },
  {
    id: 'ALM-013',
    category: 'compliance',
    severity: 'critical',
    status: 'acknowledged',
    title: 'Lab Test Failure - Microbial',
    description: 'Sample failed microbial testing - Total yeast and mold count exceeds limit',
    site: 'Facility South',
    room: 'Flower Room 2',
    raisedAt: new Date(Date.now() - 45 * 60 * 1000), // 45 minutes ago
    acknowledgedAt: new Date(Date.now() - 15 * 60 * 1000),
    acknowledgedBy: 'QA Manager',
    escalationLevel: 2,
    notificationsSent: 3,
    complianceType: 'test_failure',
    testFailureDetails: {
      labName: 'Green Leaf Analytics',
      testType: 'Microbial Testing',
      failureReason: 'Total yeast and mold: 15,000 CFU/g (Limit: 10,000 CFU/g)',
      batchId: 'B-2024-0987',
      sampleId: 'SMPL-2024-1016-003',
    },
  },
  {
    id: 'ALM-014',
    category: 'compliance',
    severity: 'critical',
    status: 'active',
    title: 'Lab Test Failure - Pesticide',
    description: 'Sample detected presence of prohibited pesticide residue',
    site: 'Facility North',
    room: 'Flower Room 3',
    raisedAt: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2 hours ago
    escalationLevel: 1,
    notificationsSent: 2,
    complianceType: 'test_failure',
    testFailureDetails: {
      labName: 'CannTest Laboratory',
      testType: 'Pesticide Screening',
      failureReason: 'Myclobutanil detected at 0.5 ppm (Limit: 0.1 ppm)',
      batchId: 'B-2024-1012',
      sampleId: 'SMPL-2024-1016-007',
    },
  },
  {
    id: 'ALM-015',
    category: 'security',
    severity: 'critical',
    status: 'active',
    title: 'Security Camera Offline',
    description: 'Camera 3 in vault area has lost connection',
    site: 'Facility North',
    raisedAt: new Date(Date.now() - 10 * 60 * 1000), // 10 minutes ago
    escalationLevel: 0,
    notificationsSent: 1,
    complianceType: 'security_incident',
    securityDetails: {
      incidentType: 'Camera Offline',
      deviceId: 'CAM-VAULT-003',
      location: 'Vault Area - South Wall',
    },
  },
  {
    id: 'ALM-016',
    category: 'security',
    severity: 'critical',
    status: 'acknowledged',
    title: 'Intrusion Alarm Triggered',
    description: 'Motion detected in restricted area after hours',
    site: 'Facility South',
    raisedAt: new Date(Date.now() - 25 * 60 * 1000), // 25 minutes ago
    acknowledgedAt: new Date(Date.now() - 20 * 60 * 1000),
    acknowledgedBy: 'Security Team',
    escalationLevel: 1,
    notificationsSent: 2,
    complianceType: 'security_incident',
    securityDetails: {
      incidentType: 'Intrusion Alarm',
      deviceId: 'MOTION-SENSOR-12',
      location: 'Processing Room B - Rear Entrance',
    },
  },
  {
    id: 'ALM-017',
    category: 'security',
    severity: 'warning',
    status: 'resolved',
    title: 'Access Control System Fault',
    description: 'Badge reader malfunction on main entrance',
    site: 'Facility North',
    raisedAt: new Date(Date.now() - 3 * 60 * 60 * 1000), // 3 hours ago
    acknowledgedAt: new Date(Date.now() - 2.5 * 60 * 60 * 1000),
    acknowledgedBy: 'IT Support',
    resolvedAt: new Date(Date.now() - 1 * 60 * 60 * 1000),
    resolvedBy: 'IT Support',
    escalationLevel: 1,
    notificationsSent: 2,
    complianceType: 'security_incident',
    securityDetails: {
      incidentType: 'Access Control Fault',
      deviceId: 'BADGE-READER-MAIN',
      location: 'Main Entrance',
    },
  },
];

export const mockThresholds: AlarmThreshold[] = [
  {
    id: 'TH-001',
    category: 'environmental',
    type: 'Temperature High',
    enabled: true,
    maxValue: 82.0,
    unit: '°F',
    severity: 'critical',
  },
  {
    id: 'TH-002',
    category: 'environmental',
    type: 'Temperature Low',
    enabled: true,
    minValue: 65.0,
    unit: '°F',
    severity: 'warning',
  },
  {
    id: 'TH-003',
    category: 'environmental',
    type: 'Humidity High',
    enabled: true,
    maxValue: 65.0,
    unit: '%',
    severity: 'warning',
  },
  {
    id: 'TH-004',
    category: 'environmental',
    type: 'Humidity Low',
    enabled: true,
    minValue: 40.0,
    unit: '%',
    severity: 'info',
  },
  {
    id: 'TH-005',
    category: 'environmental',
    type: 'CO₂ Low',
    enabled: true,
    minValue: 400.0,
    unit: 'ppm',
    severity: 'info',
  },
  {
    id: 'TH-006',
    category: 'irrigation',
    type: 'Water Pressure Low',
    enabled: true,
    minValue: 30.0,
    unit: 'PSI',
    severity: 'warning',
  },
  {
    id: 'TH-007',
    category: 'irrigation',
    type: 'Tank Level Critical',
    enabled: true,
    minValue: 10.0,
    unit: '%',
    severity: 'critical',
  },
  {
    id: 'TH-008',
    category: 'equipment',
    type: 'Device Offline',
    enabled: true,
    unit: 'minutes',
    severity: 'critical',
  },
  {
    id: 'TH-009',
    category: 'system',
    type: 'Calibration Overdue',
    enabled: true,
    unit: 'days',
    severity: 'warning',
  },
  // Compliance Thresholds
  {
    id: 'TH-010',
    category: 'compliance',
    type: 'Metrc Sync Error',
    enabled: true,
    unit: 'occurrence',
    severity: 'critical',
    complianceType: 'metrc_sync_error',
  },
  {
    id: 'TH-011',
    category: 'compliance',
    type: 'Compliance Task Due',
    enabled: true,
    unit: 'days',
    severity: 'warning',
    complianceType: 'compliance_task_due',
    advanceNoticeDays: 7,
  },
  {
    id: 'TH-012',
    category: 'compliance',
    type: '45-Day Harvest Deadline (OR)',
    enabled: true,
    unit: 'days',
    severity: 'critical',
    complianceType: 'harvest_deadline',
    advanceNoticeDays: 5, // Alert at Day 40 (5 days before deadline)
  },
  {
    id: 'TH-013',
    category: 'compliance',
    type: 'Test Failure Alert',
    enabled: true,
    unit: 'occurrence',
    severity: 'critical',
    complianceType: 'test_failure',
  },
  // Security Thresholds
  {
    id: 'TH-014',
    category: 'security',
    type: 'Security Incident',
    enabled: true,
    unit: 'occurrence',
    severity: 'critical',
    complianceType: 'security_incident',
  },
];

export const mockEscalationPolicies: EscalationPolicy[] = [
  {
    id: 'EP-001',
    name: 'Critical Equipment Policy',
    site: 'Facility North',
    intervals: [5, 10, 15, 30],
    recipients: [
      { level: 0, email: 'operator@facility.com', pushEnabled: true },
      { level: 1, email: 'supervisor@facility.com', pushEnabled: true },
      { level: 2, email: 'manager@facility.com', pushEnabled: true },
      { level: 3, email: 'director@facility.com', pushEnabled: false },
    ],
  },
  {
    id: 'EP-002',
    name: 'Environmental Monitoring',
    site: 'Facility South',
    intervals: [10, 15, 30],
    recipients: [
      { level: 0, email: 'grower@facility.com', pushEnabled: true },
      { level: 1, email: 'lead-grower@facility.com', pushEnabled: true },
      { level: 2, email: 'operations@facility.com', pushEnabled: false },
    ],
  },
  {
    id: 'EP-003',
    name: 'Compliance & QA Alerts',
    site: 'All Facilities',
    intervals: [5, 10, 15],
    recipients: [
      { level: 0, email: 'compliance@facility.com', pushEnabled: true },
      { level: 1, email: 'qa-manager@facility.com', pushEnabled: true },
      { level: 2, email: 'operations-director@facility.com', pushEnabled: true },
    ],
  },
  {
    id: 'EP-004',
    name: 'Security Incidents',
    site: 'All Facilities',
    intervals: [5, 10],
    recipients: [
      { level: 0, email: 'security@facility.com', pushEnabled: true },
      { level: 1, email: 'security-director@facility.com', pushEnabled: true },
    ],
  },
];

export const mockMaintenanceWindows: MaintenanceWindow[] = [
  {
    id: 'MW-001',
    site: 'Facility North',
    startTime: new Date(Date.now() + 2 * 60 * 60 * 1000), // 2 hours from now
    endTime: new Date(Date.now() + 4 * 60 * 60 * 1000), // 4 hours from now
    reason: 'HVAC System Upgrade',
    suppressCritical: false,
    createdBy: 'John Smith',
  },
];
