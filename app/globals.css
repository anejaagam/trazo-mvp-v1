@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Lato:wght@300;400;700;900&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Brand colors based on Figma tokens */
    --background: 240 10% 98%; /* Very light green-tinted white */
    --foreground: 162 35% 15%; /* Dark green for text */
    --card: 240 10% 98%;
    --card-foreground: 162 35% 15%;
    --popover: 240 10% 98%;
    --popover-foreground: 162 35% 15%;
    
    /* Primary - Brand lighter green */
    --primary: 125 24% 63%; /* #7eb081 */
    --primary-foreground: 0 0% 100%;
    
    /* Secondary - Brand dark green */
    --secondary: 162 24% 41%; /* #52665d */
    --secondary-foreground: 0 0% 100%;
    
    /* Muted using neutral tones */
    --muted: 162 15% 75%; /* Light neutral */
    --muted-foreground: 162 15% 45%;
    
    /* Accent using brand lighter green lighter shade */
    --accent: 125 24% 85%; /* Very light green */
    --accent-foreground: 162 35% 15%;
    
    /* Information using brand blue */
    --info: 213 78% 75%; /* #99c2f1 */
    --info-foreground: 0 0% 100%;
    
    /* Destructive (errors) */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;
    
    /* Borders and inputs using neutral tones */
    --border: 162 15% 85%;
    --input: 162 15% 85%;
    --ring: 125 24% 63%; /* Primary color for focus rings */
    
    /* Chart colors using brand palette */
    --chart-1: 125 24% 63%; /* Primary green */
    --chart-2: 162 24% 41%; /* Secondary green */
    --chart-3: 213 78% 75%; /* Brand blue */
    --chart-4: 125 24% 50%; /* Darker green */
    --chart-5: 125 24% 75%; /* Lighter green */
    
    --radius: 8px; /* Updated to match Figma */
  }

  .dark {
    /* Dark mode using darker brand colors */
    --background: 162 35% 8%; /* Very dark green */
    --foreground: 125 24% 95%; /* Very light green */
    --card: 162 35% 10%;
    --card-foreground: 125 24% 95%;
    --popover: 162 35% 8%;
    --popover-foreground: 125 24% 95%;
    
    --primary: 125 24% 63%; /* Keep primary green */
    --primary-foreground: 162 35% 8%;
    
    --secondary: 162 15% 20%; /* Darker neutral */
    --secondary-foreground: 125 24% 95%;
    
    --muted: 162 15% 15%;
    --muted-foreground: 162 15% 65%;
    
    --accent: 162 15% 15%;
    --accent-foreground: 125 24% 95%;
    
    --destructive: 0 62% 30%;
    --destructive-foreground: 0 85% 97%;
    
    --border: 162 15% 15%;
    --input: 162 15% 15%;
    --ring: 125 24% 63%;
    
    --chart-1: 125 24% 70%;
    --chart-2: 162 24% 50%;
    --chart-3: 213 78% 80%;
    --chart-4: 125 24% 45%;
    --chart-5: 125 24% 85%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-body;
  }
  
  /* Typography hierarchy using Figma tokens */
  h1 {
    @apply font-display text-display-1 font-semibold text-foreground;
  }
  h2 {
    @apply font-display text-display-2 font-semibold text-foreground;
  }
  h3 {
    @apply font-display text-display-3 font-semibold text-foreground;
  }
  h4 {
    @apply font-display text-display-4 font-semibold text-foreground;
  }
  h5 {
    @apply font-display text-display-5 font-semibold text-foreground;
  }
  h6 {
    @apply font-display text-display-6 font-semibold text-foreground;
  }
}

@layer components {
  /* Custom component styles using design tokens */
  .btn-primary {
    @apply bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-2 focus:ring-primary focus:ring-offset-2;
  }
  
  .btn-secondary {
    @apply bg-secondary text-secondary-foreground hover:bg-secondary/90 focus:ring-2 focus:ring-secondary focus:ring-offset-2;
  }
  
  .input-field {
    @apply bg-background border-border text-foreground placeholder:text-muted-foreground focus:border-primary focus:ring-1 focus:ring-primary;
  }
}

/* Landing page animations */
@layer utilities {
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }

  .animate-fade-in-up {
    animation: fade-in-up 1s ease-out 0.2s forwards;
    opacity: 0;
  }

  /*
    Dark-mode defensive overrides
    Many components use hard-coded `bg-white`, `bg-white/*`, `border-white`, or `text-black` utilities.
    Those utilities are absolute and don't respect our CSS variables. To quickly improve dark mode
    appearance without refactoring all components, remap those utility usages to semantic tokens
    when the `.dark` class is present.
  */
  .dark [class*="bg-white"] {
    /* covers bg-white and bg-white/5, etc. */
    background-color: hsl(var(--card)) !important;
  }

  .dark [class*="border-white"] {
    border-color: hsl(var(--border)) !important;
  }

  .dark [class*="text-black"] {
    color: hsl(var(--card-foreground)) !important;
  }

  /* Buttons/overlays that rely on white background with opacity (eg. bg-white/5) should use popover/card tokens */
  .dark [class*="bg-white/"] {
    /* fallback for opacity variants (bg-white/5 etc) â€” use card color so elements are readable in dark mode */
    background-color: hsl(var(--card)) !important;
  }

  /* Hide scrollbars but keep scroll functionality */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and old Edge */
    scrollbar-width: none;    /* Firefox */
  }
}
